<app-menubar></app-menubar>
<div class="col-md-12">
  <div class="white_box">
    <div class="masters_header">
        <div class="pull-left">
            <h4>Absent Master</h4>
        </div>
        <div class="pull-right">
            <ul class="breadcrumb">
                <li><a href="#">Admin</a></li>
                <li><a href="#">Master Category</a></li>
                <li class="active">Absent Master</li>
            </ul>
            <button class="btn btn-info btn_addNewForm" (click)="toggle()">
                <i class="fa {{iconName}}"></i> Add New Absent
            </button>
        </div>
        <div class="clearfix"></div>
    </div>
    <div class="add_section_txt box-fade fade-in addMaster_block" *ngIf="show">
        <div class="add_heading">Add Absent Details</div>
        <div class="addMaster_block_inner">
            <div class="col-md-2">
                <label class="mandatory" for="">From Date</label>
            </div>
            <div class="col-md-4 holidayDate_outer">
                <input type="text" class="form-control datepicker1" id="From_Date" ng-model="From_Date" placeholder="DD-MM-YYYY"
                                              title="Please Enter From Date" required>
            </div>
            <div class="col-md-2">
                <label class="mandatory" for="">To Date</label>
            </div>
            <div class="col-md-4 holidayDate_outer">
                <input type="text" class="form-control datepicker2" id="To_Date" ng-model="To_Date" placeholder="DD-MM-YYYY"
                                              title="Please Enter To Date" required>
            </div>
            <div class="clearfix"></div>
            
                <div class="col-md-2">
                    <label class="mandatory" for="Leave_Type">Leave Type</label>
                </div>

                <div class=" col-md-4">
                    <select (change)="onLTChange()" id="ddlLeaveTypeList" ng-options="s.List_Desc for s in leaveTypeList track by s.W2S_List_Id" ng-model="ddlLeaveTypeList" class="form-control ng-valid ng-dirty dropdown"   required>
                        <option [ngValue]="null" disabled>--Select Leave Type--</option>
                        <option [ngValue]="1">Full Day</option>
                        <option [ngValue]="2">Half Day</option>
                    </select>
                </div>
                <div *ngIf="showLD">
                    <div class="col-md-2">
                        <label class="mandatory" for="">Leave Details</label>
                    </div>
                    <div class="col-md-4">
                        <select ng-model="ddlLeaveTypeHalfList" ng-options="s.List_Desc for s in leaveTypeList track by s.W2S_List_Id" class="form-control ng-valid ng-dirty dropdown" ng-mode style="width: calc(70% + 30px);" required>
                            <option value="" disabled>--Select Leave Type--</option>
                            <option value="FH">First Half</option>
                            <option value="SH">Second Half</option>
                        </select>
                    </div>
                </div>
                <div class="clearfix"></div>
            <div class="col-md-12 master_form_buttons">
                <input type="submit" value="Search" ng-click="GetUserListWithAbsentDet()" class="btn btn-primary SubmitMasters" href="javascript:void(0);" />
            </div>
            <div class="clearfix"></div>
        </div>
    </div>
    <div class="master_table_outer">
        <div class="col-md-12 nopadding table-responsive">
            <div class="main_table_wrap ">
                <table data-vertable="ver1" style="width:100%!important;" class="main_table table table-bordered table-striped report_table" id="myTable" ng-table="tableParams" show-filter="data.length!=0">
                    <tr ng-repeat="trRow in $data" class="row100 dnd-moved">
                        <td class="column100 column1" style="width:250px" data-column="column1" data-title="'Resource Id'" filter="{ PK_Resource_Id: 'number'}" sortable="'PK_Resource_Id'" ng-bind="trRow.PK_Resource_Id" nowrap></td>
                        <td class="column100 column2 w200" data-column="column2" data-title="'Resource Name'" filter="{ Resource_Name: 'text'}" sortable="'Resource_Name'" ng-bind="trRow.Resource_Name" nowrap></td>
                        <td class="column100 column2 w200" data-column="column2" data-title="'Role'" filter="{ Role: 'text'}" sortable="'Role'" ng-bind="trRow.Role" nowrap></td>
                        <td class="column100 column2 w200" data-column="column2" data-title="'Last Absent Date'" filter="{ From_Date: 'datefilter'}" sortable="'From_Date'" ng-bind="trRow.From_Date" nowrap></td>
                        <td class="column100 column2 w200" data-column="column2" data-title="'Current Month Absent'" filter="{ Leave_Day_Count: 'text'}" sortable="'Leave_Day_Count'" ng-bind="trRow.Leave_Day_Count" nowrap></td>
                        <td class="column100 column2 w200" data-column="column2" data-title="'FY Absent Date'" filter="{ Leave_Day_Count: 'text'}" sortable="'Leave_Day_Count'" ng-bind="trRow.Leave_Day_Count" nowrap></td>
                        <td class="column100 column2 w200" data-column="column2" data-title="'Leave Type'" filter="{ Leave_Day_Count: 'text'}" sortable="'Leave_Day_Count'" ng-bind="trRow.Leave_Day_Count" nowrap></td>
                        <td class="column100 column4 w100" data-column="column4" style="width:120px;" data-title="'Status'" filter="{IsActive: 'select'}" sortable="'IsActive'" filter-data="status">
                            <span ng-show="trRow.IsActive==0">InActive</span><span ng-show="trRow.IsActive==1">Active</span>
                        </td>
                    </tr>
                    <tr ng-show="tableParams.total() == 0&& Nodatafound==false">
                        <td colspan="9" class="text-center">
                            No data available.
                        </td>
                    </tr>
                    <tr ng-show="tableParams.total() == 0 && Nodatafound==true">
                        <td colspan="9" class="text-center">
                            No data available for search criteria
                        </td>
                    </tr>
                </table>

                <div class="footer_pagination" ng-show="tableParams.total()>0">
                    <div class="col-sm-3 col-xs-3 full_pagination">
                        <div class="dataTables_info showing-entries position-fix-ent" id="example_info" role="status" aria-live="polite"> Showing {{startrecord}} to {{endrecord}} of {{tableParams.total()}} entries </div>
                    </div>
                    <div class="col-md-6 text-center">
                        <ul class="pagination pagination-size">
                            <li class="pg-back" ng-click="click_nextPage('0')"><a href="#"><i class="fa fa-angle-double-left"></i></a></li>
                            <li ng-repeat="i in arr" ng-click="changepage(i)" class="pg-page {{i}}"><a href="#">{{i}}</a></li>
                            <li ng-click="click_nextPage('1')"><a class="pg-next" href="#"><i class="fa fa-angle-double-right"></i></a></li>
                        </ul>
                    </div>
                    <div class="col-md-3 full_pagination text-right position-fix-page">
                        <span class="pagination-size">Page size</span>
                        <select class="pag-size" id="maxRows" title="Please Select Page Size">
                            <option value="10" selected="selected">15</option>
                            <option value="20">30</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                        </select>
                    </div>
                </div>
                <div>
                    <table class="selectedcontent">
                        <tr ng-repeat="selectedName in selected">
                            <td ng-model="PK_Resource_Id">{{selectedName.PK_Resource_Id}}</td>
                            <td ng-model="Resource_Name">{{selectedName.Resource_Name}}</td>
                        </tr>
                    </table>
                </div>
                <div class="col-md-12 master_form_buttons">
                    <input type="submit" value="Add" ng-click="AddAbsenty()" class="btn btn-primary SubmitMasters" />&nbsp;
                    <input type="button" value="Reset" ng-click="cancel()" class="btn btn-default resetMasters" />
                </div>
            </div>
        </div>
    </div>
    <div class="clearfix"></div>
  </div>
  <div class="clearfix"></div>
</div>
<div class="clearfix"></div>
<!-- <script>
    $(function () {
        $('#ddlLeaveTypeList').change(function () {
            $('#LeaveTypeNew')[($("option[value='2']").is(":checked")) ? "show" : "hide"]();
        });
    });
</script> -->